<div class="container">
    <h1>Liste des Utilisateurs</h1>
    
    <div class="users-grid">
        <div class="user-card" *ngFor="let user of users">
            <div class="card-header">
                <span class="user-id">#{{user.id}}</span>
                <h3 class="user-name">{{user.firstName}} {{user.lastName}}</h3>
            </div>
            
            <div class="card-content">
                <div class="info-group">
                    <div class="info-icon"></div>
                    <div class="info-content">
                        <div class="info-label">Rôle</div>
                        <div class="info-value">
                            <span class="role-badge" [ngClass]="{
                                'role-admin': user.role === 'admin',
                                'role-doctor': user.role === 'doctor',
                                'role-nurse': user.role === 'nurse',
                                'role-patient': user.role === 'patient'
                            }">{{user.role}}</span>
                        </div>
                    </div>
                </div>
                
                <div class="info-group">
                    <div class="info-icon"></div>
                    <div class="info-content">
                        <div class="info-label">Téléphone</div>
                        <div class="info-value">{{user.phone}}</div>
                    </div>
                </div>
                
                <div class="status-indicator">
                    <div class="status-dot" [ngClass]="{
                        'status-active': user.isActive,
                        'status-inactive': !user.isActive
                    }"></div>
                    <div class="info-content">
                        <div class="info-label">Statut</div>
                        <div class="info-value">{{user.isActive ? 'Actif' : 'Inactif'}}</div>
                    </div>
                </div>
            </div>
            
            <div class="card-actions">
                <button class="action-btn btn-view">Voir</button>
                <button class="action-btn btn-edit" (click)="onEdit(user.id)">Modifier</button>
                <button class="action-btn btn-delete" (click)="onDelete(user.id)">Supprimer</button>
            </div>
        </div>
    </div>
    
    <div class="empty-state" *ngIf="users.length === 0">
        <h3>Aucun utilisateur trouvé</h3>
        <p>Il n'y a actuellement aucun utilisateur enregistré.</p>
    </div>

        <div class="form-section">
        <h2>{{isEditUser ? "Modifier Utilisateur" : "Ajouter un Nouvel Utilisateur"}}</h2>
        <form>
            <div class="form-group">
                <label for="name">Nom</label>
                <input type="text" class="form-control" id="lastName" name="lastName" required [(ngModel)]="user.lastName">
            </div>
            <div class="form-group">
                <label for="name">Prénom</label>
                <input type="text" class="form-control" id="firstName" name="firstName" required [(ngModel)]="user.firstName">
            </div>
            <div class="form-group">
                <label for="address">Rôle</label>
                <input type="text" class="form-control" id="address" name="address" required [(ngModel)]="user.role">
            </div>
            <div class="form-group">
                <label for="email">Email</label>
                <input type="email" class="form-control" id="email" name="email" required [(ngModel)]="user.email">
            </div>
            <div class="form-group">
                <label for="email">Statut</label>
                <select type="email" class="form-control" id="statut" name="statut" required [(ngModel)] = 'user.isActive'>
                    <option value = 'Actif'>Actif</option>
                    <option value = 'Inactif'>Inactif</option>
                </select>
            </div>

            <div class="form-group">
                <label for="phone">Téléphone</label>
                <input type="tel" class="form-control" id="phone" name="phone" required [(ngModel)]="user.phone">
            </div>
            <button type="submit" class="btn btn-primary" (click)="onSubmit()">{{isEditUser ? "Modifier l'utilisateur" : "Ajouter de l'utilisateur"}}</button>
        </form>
    </div>
</div>
